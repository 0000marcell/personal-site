{"componentChunkName":"component---src-templates-article-js","path":"/articles/using-graphcool-resolvers-to-integrate-external-apis-with-your-graphql-schema","result":{"pageContext":{"article":{"id":"455bf891-f0d3-5fb2-9405-d5e983ae5495","html":"<p>Iâ€™ve used <a href=\"https://graph.cool\">Graphcool</a> on a few personal projects. It is a great tool to bootstrap a GraphQL backend with minimum setup:</p>\n<blockquote>\n<p>Open-source and self-hosted backend-as-a-service to develop serverless GraphQL backends. The Graphcool Framework offers an opionated backend setup, including GraphQL database mapping, subscriptions &#x26; permission system.</p>\n</blockquote>\n<p>Within a few minutes setting your schema, you get a database backed with a GraphQL API and all possible queries and mutations. Pretty cool.</p>\n<p>Last week I was developing an app that must be integrated with the <a href=\"https://developers.google.com/places/web-service/intro\">Google Places API</a>. Initially, I had to just parse a place using a place ID.</p>\n<p>The Places documentation is pretty straightforward, and I was able to make a quick successful test using the provided endpoint:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">https://maps.googleapis.com/maps/api/place/details/json?placeid=**PLACE_ID**&amp;key=**YOUR_API_KEY**</code></pre></div>\n<p>Cool, but if I just query this on my app using an HTTP client like <a href=\"https://github.com/axios/axios\">axios</a> or something like that, Iâ€™ll lose all the advantages of using a GraphQL API. I use Apollo, for example, and it provides me with all the cool stuff, like automatic caching and a declarative API.</p>\n<p>So, what if Graphcool could do this query for me and handle me back the data as if it were from my own API? You can achieve this using <strong>Resolver functions.</strong></p>\n<blockquote>\n<p>With a resolver you can provide custom queries and mutations that are powered by a function that you provide.</p>\n</blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/89accbd9f824c314c8baead9b24a0b89/0fb37/1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.953125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAABUklEQVQoz4WRTUoDQRCF52Aew40X8QJewp0uXOrGqBshUTduFIIg4gSciGZCYmaSmf6rqq6eWD1qlID6+HhdDdV09etkoCadvH9TZo6pIltHHDP7ViGE5nclQz3rTR/u6xyCr9gpBkFOhFZr3Rw+Ic+eOVmKpMcHBCAkLxABACLK/cu/1CTSYcFZF3EArnVEkkUpvZKxRhl7/LjY7xcHd+Xu7ayb1Yk8TGsFVlutnIkOzjRM6GxZzMq36Ww6Eap5UZTl9vnL5mG2dTTc2Et3rsYydlMBv9Z+rDnXHF152QojxSPN0SN+VPtcUH6ivcIQx5bZn+bYSevTtO6k1cmgOhvUF0Mt9LLWvwvVzdTls75+NWmBS0m7iWE1hoLGEJ2ig2/hH/5RcCBuorf/0AZmDSGwpxX+i7XaAZYa5gYqE0ONhyVMay3+J0I0DgrlhIV2SPQOWwU367EhnUQAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"1\"\n        title=\"1\"\n        src=\"/static/89accbd9f824c314c8baead9b24a0b89/9b715/1.png\"\n        srcset=\"/static/89accbd9f824c314c8baead9b24a0b89/fb220/1.png 256w,\n/static/89accbd9f824c314c8baead9b24a0b89/37620/1.png 512w,\n/static/89accbd9f824c314c8baead9b24a0b89/9b715/1.png 1024w,\n/static/89accbd9f824c314c8baead9b24a0b89/0fb37/1.png 1205w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"setting-up-a-resolver-function\" style=\"position:relative;\"><a href=\"#setting-up-a-resolver-function\" aria-label=\"setting up a resolver function permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Setting up a Resolver function</h2>\n<p>Create a new function and select **Resolver **as the type. Then, you will need to write two files â€” directly on the Graphcool UI:</p>\n<h3 id=\"resolver-sdl\" style=\"position:relative;\"><a href=\"#resolver-sdl\" aria-label=\"resolver sdl permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Resolver SDL</h3>\n<p><strong>Specifies how you will extend your schema.</strong></p>\n<p>In my case, Iâ€™m adding GooglePlace as a new type in my schema. It has just a payload field, which returns Json data.</p>\n<p>The query to parse a GooglePlace accepts one argument: id</p>\n<p>My file looks like this:</p>\n<iframe src=\"https://gist.github.com/dlbnco/d6bebc0c1c74c071c27e4c9c416d8c80.pibb\"></iframe>\n<h3 id=\"inline-code\" style=\"position:relative;\"><a href=\"#inline-code\" aria-label=\"inline code permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Inline code</h3>\n<p><strong>The function that will be called when you call the query you just described</strong></p>\n<p>In my case, I will just call the Google Places API using the provided id and my API key, and return the data as the payload field on my GooglePlace type:</p>\n<iframe src=\"https://gist.github.com/dlbnco/335faca3cd7e7843b65514f3a2f5139b.pibb\"></iframe>\n<p><strong>Done!</strong>ðŸŽ‰</p>\n<p>Now I can query the Google Places API directly through my Graphcool backend using GraphQL:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/818ed50f809cbdabd08c84856830badd/4f981/2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 59.765625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAABxElEQVQoz4XRS2/TQBQFYENbqbFNfGcSGlBEEKF+BNv1eOyJHT/GNi0kSjY81CVSF7RCQqRSKRtY87+5boAiuoj0aSTb92iOrpXzHz8/fft+tr4++3z5cX3125er8/XXuzafNi4ur5V9N1OtcHfs74ycnSc22h05eyPn/tBUBmPl0fPWY3SI7g3NvdGkHXg6Uce+Au4U2Ix6CXWTnpfiiW+In+6bbLo6XXy46IXZgaj7XPYi2Y+qh3F9IBoSlPbyjfLA5l1PUEdQK+5bMbEizWSocxgMwnxczIHXJFtRDISSBAUJchIW4Mz6b5dK1+HaJFKdEMurFsNT+6Njsq4/I6yAZEGmcyJqIiQISUWluYm3eKe0c+YN63+6zQGTooT0xMjnkB1DVhtZTdJa89OjxXvlbuYfHLBh0UDZGKioIW8gr0lSaV7ibw+zHKeheAlZQ6YSUFK1tV9sDWNtXE+Qg8DOc6N8BfkxpBXF2l66/eZ2W7E00vZmSBoSSxKVNCxvF9bu2URsE7hlRzhHuST4n2ZLkr6msaSs7HGpuWmwOlUMKzBsRid8cJR0raDzzFXH3l+6yXTrhhPrDtedcPOomcEwKn4Bael8JcJHNTMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2\"\n        title=\"2\"\n        src=\"/static/818ed50f809cbdabd08c84856830badd/9b715/2.png\"\n        srcset=\"/static/818ed50f809cbdabd08c84856830badd/fb220/2.png 256w,\n/static/818ed50f809cbdabd08c84856830badd/37620/2.png 512w,\n/static/818ed50f809cbdabd08c84856830badd/9b715/2.png 1024w,\n/static/818ed50f809cbdabd08c84856830badd/76a66/2.png 1536w,\n/static/818ed50f809cbdabd08c84856830badd/4f981/2.png 1879w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>For more info, check out the <a href=\"https://www.graph.cool/docs/reference/functions/resolvers-su6wu3yoo2\">Graphcool documentation on Resolver functions</a>.</p>\n<p>ðŸ‘‹</p>","excerpt":"Iâ€™ve used Graphcool on a few personal projects. It is a great tool to bootstrap a GraphQL backend with minimum setup: Open-source and selfâ€¦","fileAbsolutePath":"/home/mmc/ghp/personal-static-website/content/blog/using-graphcool-resolvers-to-integrate-external-apis-with-your-graphql-schema/index.md","frontmatter":{"title":"Using Graphcool resolvers to integrate external APIs with your GraphQL schema","date":"2018-09-25T00:00:00.000Z","image":null}}}},"staticQueryHashes":["3649515864","63159454"]}